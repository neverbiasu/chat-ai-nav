# 提示词卡片组件产品设计文档

## 1. 功能模块描述

### 核心功能描述

提示词卡片组件是平台中展示提示词模板的基础单元，用于在提示词工坊和控制台中统一呈现提示词模板信息。该组件支持用户快速浏览、收藏、复制和应用提示词模板，是用户与提示词系统交互的主要界面。

### 主要特点

- 内容预览：在有限空间内展示提示词模板的核心内容和用途
- 一键应用：支持一键复制提示词内容，快速应用到目标AI模型
- 收藏管理：允许用户收藏常用提示词模板，便于后续使用
- 分类标签：通过标签系统帮助用户理解提示词的适用场景
- 创作者信息：显示提示词模板的创作来源，增强社区归属感

### 使用场景

- 提示词工坊浏览页面
- 个人收藏的提示词列表
- 提示词控制台编辑界面
- 搜索结果中的提示词展示

## 2. 组件设计规范

### 信息结构

| 属性              | 说明                 | 是否必需 | 数据类型      |
| ----------------- | -------------------- | -------- | ------------- |
| id                | 提示词模板唯一标识符 | 是       | String        |
| name              | 提示词模板名称       | 是       | String        |
| logo_path         | 相关图标路径         | 是       | String        |
| content           | 提示词内容           | 是       | String        |
| desc              | 简短描述             | 是       | String        |
| tags              | 标签数组             | 是       | Array<String> |
| placeholder_pos   | 可替换占位符位置     | 否       | Array<Object> |
| isPublic          | 是否公开             | 是       | Boolean       |
| isFavorite        | 是否已收藏           | 否       | Boolean       |
| creator           | 创作者信息           | 否       | Object        |
| usage_count       | 使用次数             | 否       | Number        |
| rating            | 评分                 | 否       | Number        |
| compatible_models | 兼容模型列表         | 否       | Array<String> |

### 视觉规范

- **尺寸**：

  - 桌面端：280px × 200px
  - 平板端：240px × 180px
  - 移动端：宽度100%，高度自适应

- **布局结构**：

  - 顶部：图标 + 名称 + 收藏按钮
  - 中部：简短描述 + 内容预览（最多3行，超出显示省略号）
  - 底部：标签展示 + 复制按钮 + 应用按钮

- **颜色规范**：

  - 卡片背景：#FFFFFF
  - 边框：1px solid #E8E8E8
  - 阴影：0 2px 8px rgba(0,0,0,0.1)
  - 标题文字：#333333
  - 描述文字：#666666
  - 内容预览：#444444，背景色#F9F9F9
  - 标签背景：#F0F7FF
  - 标签文字：#1890FF
  - 按钮主色：#1890FF

- **字体规范**：
  - 标题：16px，加粗
  - 描述：14px，常规
  - 内容预览：14px，等宽字体
  - 标签：12px，常规
  - 按钮文字：14px，常规

### 交互规范

- **悬停效果**：

  - 卡片轻微上浮（transform: translateY(-2px)）
  - 阴影加深（0 4px 12px rgba(0,0,0,0.15)）

- **点击行为**：

  - 点击卡片主体：展开详情弹窗，显示完整提示词内容
  - 点击收藏按钮：切换收藏状态，触发本地存储
  - 点击复制按钮：复制提示词内容到剪贴板
  - 点击应用按钮：打开应用弹窗，选择目标AI模型
  - 点击标签：触发相应标签的筛选

- **加载状态**：
  - 图片加载中：显示占位图
  - 数据加载中：显示骨架屏
  - 复制成功：显示成功提示

## 3. 使用指南

### 基本用法

提示词卡片组件可以在任何需要展示提示词模板的地方使用。开发者只需提供必要的数据属性，组件将自动渲染为统一的卡片样式。

```jsx
<PromptCard
  id="creative-writing"
  name="创意写作助手"
  logo="/assets/icons/writing.png"
  desc="帮助用户突破写作瓶颈，生成创意灵感"
  content="我需要你扮演创意写作顾问。请根据我提供的主题「{{主题}}」，生成一个创意故事开头，包含引人入胜的场景描述和人物介绍。"
  tags={['写作', '创意', '故事']}
  placeholder_pos={[{ name: '主题', start: 23, end: 29 }]}
  isPublic={true}
  creator={{ name: '创意工坊', avatar: '/assets/avatars/workshop.png' }}
/>
```

### 卡片变体

组件支持多种变体以适应不同的展示需求：

1. **标准卡片**：完整展示所有信息
2. **简洁卡片**：仅展示名称、描述和操作按钮
3. **详情卡片**：增加更多内容预览和占位符编辑功能
4. **工坊卡片**：包含创作者信息和使用统计数据

### 响应式行为

组件会根据容器宽度自动调整布局：

- **大屏幕**：网格布局，每行3-4张卡片
- **中等屏幕**：网格布局，每行2-3张卡片
- **小屏幕**：网格布局，每行2张卡片
- **移动设备**：列表布局，每行1张卡片

## 4. 最佳实践

### 内容建议

- **名称**：简明扼要，反映提示词的主要用途，不超过20个字符
- **描述**：说明提示词的具体功能和适用场景，不超过60个字符
- **内容**：提示词主体内容应结构清晰，包含适当的占位符以增强灵活性
- **标签**：选择3-5个最能代表提示词用途的标签，便于用户筛选
- **图标**：使用能直观表达提示词功能的图标，建议尺寸为200×200px

### 展示优化

- 在提示词工坊中，使用标准卡片以提供完整信息
- 在搜索结果中，可使用简洁卡片以展示更多选项
- 在控制台中，使用详情卡片提供更丰富的编辑功能
- 对热门提示词添加视觉标记，如热度图标或使用次数

### 性能考量

- 对长内容进行截断处理，避免渲染过多文本影响性能
- 实现虚拟滚动以优化大量卡片的渲染性能
- 使用懒加载策略加载图标，减少初始加载时间
- 实现本地缓存机制，减少重复请求

## 5. 示例展示

### 标准卡片示例

![标准提示词卡片示例](../assets/images/standard_prompt_card_example.png)

### 卡片状态变化

- 默认状态
- 悬停状态
- 已收藏状态
- 内容复制状态
- 应用选择状态

### 在不同场景中的应用

- 提示词工坊浏览页
- 个人收藏列表
- 提示词控制台
- 搜索结果页

## 6. 开发注意事项

- 实现安全的复制机制，确保提示词内容能正确复制到剪贴板
- 提供占位符编辑功能，允许用户在应用前自定义提示词内容
- 确保卡片组件的可访问性，支持键盘导航和屏幕阅读器
- 实现本地存储机制，保存用户收藏状态和使用历史
- 处理长文本内容的截断和展示逻辑
- 实现模型兼容性检查，避免用户应用不兼容的提示词

## 7. 后续优化方向

- 添加提示词评分和评论功能
- 支持提示词版本历史记录
- 实现提示词效果预览功能
- 增加AI模型兼容性标记
- 提供提示词模板分享和导出功能
- 实现提示词组合功能，允许用户将多个提示词模板组合使用
- 添加使用统计和效果反馈机制
- 开发提示词推荐系统，基于用户历史使用推荐相关提示词

## 8. 与提示词工坊模块的集成

### 集成方式

提示词卡片组件是提示词工坊模块的核心展示单元，通过以下方式集成：

- **列表视图**：在工坊主页以网格形式展示热门和推荐提示词
- **分类视图**：根据标签或类别筛选后的提示词卡片列表
- **搜索结果**：匹配用户搜索关键词的提示词卡片
- **详情弹窗**：点击卡片后展示的完整提示词信息和操作界面

### 交互流程

1. 用户浏览提示词工坊，查看提示词卡片列表
2. 点击感兴趣的卡片，展开详情弹窗
3. 在详情弹窗中可以：
   - 查看完整提示词内容
   - 编辑占位符内容
   - 选择目标AI模型
   - 一键复制或直接应用
   - 收藏提示词模板
   - 查看使用统计和评价

### 数据同步

- 用户收藏的提示词模板将保存在本地存储中
- 使用统计数据通过匿名方式上传到服务器
- 热门提示词排序基于综合使用次数和评分计算
- 用户创建的私有提示词仅在本地存储，不会上传到服务器
